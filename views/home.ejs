<%- include('./partials/header') %>

<div class="title">
	<h1>
		<i class="archive icon"></i> Indie Gallery/独立游戏作品集
	</h1>
	<h2>
		A gallery for indie games and the stories behind them.
    </h2>
    <h2>
        这是一个独立游戏作品集，来看看它们的故事吧
    </h2>
</div>

<div class="main ui container">
    <h2>
        <i class="child icon"></i> 全部作品
    </h2>
    <hr class="abrupt">
    <!-- <div class="ui raised link cards two column"> -->
        <% let left = true %>
        <% works.forEach( (work)=> { %>
            <% if (left) { %>
                <div class="ui raised link cards two column">
            <% } %>
                <% if (work.authors.length === 0) {work.authors = "作者没有留下名字"}%>
                    <div class="ui card" id=<%= work.id %> data-title=<%= work.title %> data-authors=<%= work.authors %> data-description=<%= work.description %> data-imgCount=<%= work.imgCount %> >
                        <div class="image">
                            <img class="thumbnail" src="/<%= work.id %>/images/1.png">
                        </div>
                        <div class="content">
                            <div class="header">
                                <%= work.title %>
                            </div>
                            <div class="description">
                                <%= work.description %>
                            </div>
                        </div>
                    </div>
            <% if(!left) { %> 
                </div>
            <% } %>
            <% left = !left %>
        <% }) %>
        <% if(!left) { %>
            </div>
        <% } %>
        <!-- <div class="ui card">
            <div class="image">
                <img src="images/marine_vs_zergling_thumbnail.png">
            </div>
            <div class="content">
                <div class="header">
                    Game Title
                </div>
                <div class="description">
                    Description
                </div>
            </div>
        </div> -->
    <!-- </div> -->


    <h2>
		<i class="child icon"></i> 2020 CiGA Game Jam (8月14 ~ 16日)
	</h2>
    <hr class="abrupt">
    <!-- <div class="row"> -->
    
    <h3 style="margin-block-start: 1em; margin-block-end: 1em ;">
        2020 CiGA Game Jam Theme Image <br>
        ——主题图片
    </h3>
    <img class="ui centered large image" image src="images/CGJ_theme.png">
    <div class="ui hidden divider"></div>
    <hr class="smooth">

    <h3 style="text-align: left">
        下面是这次比赛的参赛作品
    </h3>

    <% left = true %>
    <% works.forEach( (work)=> { %>
        <% if (work.event === "2020-CiGA") { %>
            <% if (left) { %>
                <div class="ui raised link cards two column">
            <% } %>
                    <div class="ui card" id=<%= work.id %> data-title=<%= work.title %> data-authors=<%= work.authors %> data-description=<%= work.description %> data-imgCount=<%= work.imgCount %> >
                        <div class="image">
                            <img class="thumbnail" src="/<%= work.id %>/images/1.png">
                        </div>
                        <div class="content">
                            <div class="header">
                                <%= work.title %>
                            </div>
                            <div class="description">
                                <%= work.description %>
                            </div>
                        </div>
                    </div>
            <% if(!left) { %> 
                </div>
            <% } %>
            <% left = !left %>
        <% } %>
    <% }) %>
    <% if(!left) { %>
        </div>
    <% } %>

    <!-- <div class="ui raised link cards two column">
            <div class="ui card">
                <div class="image">
                    <img src="images/CGJ_game_thumbnail.png" class="thumbnail">
                </div>
                <div class="content">
                    <div class="header">
                        Game Title
                    </div>
                    <div class="description">
                        Description
                    </div>
                </div>
            </div>
            <div class="ui card">
                <div class="ui placeholder">
                    <div class="image" style="height:200px;"></div>
                </div>
                <div class="content">
                    <div class="header">
                        Game Title
                    </div>
                    <div class="description">
                        Description
                    </div>
                </div>
            </div>
    </div>  -->


    <!-- This is a pre-structured card that displays the detail infos about the clicked work -->
    <div class="ui celled grid" id="detail" style="display:none">
            <div class="row">
                <!-- <div class="ui celled grid"> -->
                    <div class="six wide column">
                        <div class="ui raised segment">
                            <h3 id="title">
                                Game Title
                            </h3>
                            <p id="description">
                                Description
                            </p>
                            <div class="ui divider"></div>
                            <h3>
                                作者
                            </h3>
                            <h4 id="author">
                                Author
                            </h4>
                        </div>
                        <a id="link" href='#' class="ui green fluid huge button">去看看！</a>
                    </div>
                    <div class='ten wide column'>
                        <div class="row">
                            <div class="ui image showcase">
                                <img src="images/marine_vs_zergling_thumbnail.png">
                            </div>
                        </div>
                        <ul id="list">
                        </ul>
                    </div>
                <!-- </div> -->
            </div>
    </div>

</div>

<!-- <script>
    function onLoad() {
        let thumbs = document.querySelectorAll('.thumbnail');
        thumbs.forEach( (thumb) => {
            thumb.style.height = String(thumb.width * 9 / 16) + "px"
        })
    }
</script> -->
<script src="/scripts/home.js"></script>

<%- include('./partials/footer') %>